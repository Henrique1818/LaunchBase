{% extends "layout.njk" %}

{% block content %}
<div class="card">
        <section
            class="avatar_url"
            style="background: url(https://source.unsplash.com/collection/2467520/500x500) no-repeat center center / cover; border-radius: 4px 0 0 4px">
        </section>

    <section class="details">
        <form method="POST" action="/teachers?_method=PUT">
            <h3>Editar Professor(a)</h3>
            
            {% include "teachers/fields.njk" %}

            <input
                type="hidden"
                name="id"
                value="{{teacher.id}}"
            >  
        </form>

        <form id="form-delete" action="/teachers?_method=DELETE" method="POST">
            <input
                type="hidden"
                name="id"
                value="{{teacher.id}}"
            >
            <button type="submit">Deletar</button>
        </form>

        <script>
            const formDelete = document.querySelector('#form-delete');
            formDelete.addEventListener('submit', function(event) {
                const confirmation = confirm("Deseja deletar?");
                if(!confirmation) {
                    event.preventDefault();
                }
            });
        </script>
    </section>
</div>
{% endblock %}